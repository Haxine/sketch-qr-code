{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./node_modules/@skpm/dialog/lib/index.js","webpack://exports/./node_modules/@skpm/dialog/lib/message-box.js","webpack://exports/./node_modules/@skpm/dialog/lib/open-dialog.js","webpack://exports/./node_modules/@skpm/dialog/lib/run-delegate.js","webpack://exports/./node_modules/@skpm/dialog/lib/save-dialog.js","webpack://exports/./node_modules/cocoascript-class/lib/index.js","webpack://exports/./node_modules/cocoascript-class/lib/runtime.js","webpack://exports/./src/app.js","webpack://exports/./src/lib/qrcode.js","webpack://exports/external \"sketch\""],"names":["main","context","str","sketch","UI","getStringFromUser","qrcode","QRCode","options","modules","width","height","length","xsize","padding","ysize","layers","y","x","module","px","toString","py","push","type","Types","Shape","frame","style","fills","color","fill","Style","FillType","Color","borders","document","fromNative","page","selectedPage","group","Group","name","parent","centerOnLayer","about","dialog","showMessageBox","message","detail","buttons","response","url","nsurl","NSURL","URLWithString","NSWorkspace","sharedWorkspace","openURL","Error","QR8bitByte","data","mode","QRMode","MODE_8BIT_BYTE","parsedData","i","l","byteArray","code","charCodeAt","Array","prototype","concat","apply","unshift","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","c","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","dark","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","j","bits","getBCHTypeNumber","mod","Math","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","index","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","ratio","abs","glog","n","LOG_TABLE","EXP_TABLE","num","shift","undefined","e","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","background","ecl","content","_getErrorCorrectLevel","_getTypeNumber","sText","nCorrectLevel","nType","_getUTF8Length","len","nLimit","replacedText","encodeURI","replace"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;;AAEA;AACA,kBAAkB,mBAAO,CAAC,qEAAe;AACzC,kBAAkB,mBAAO,CAAC,qEAAe;AACzC,kBAAkB,mBAAO,CAAC,qEAAe;AACzC;AACA;;;;;;;;;;;;ACRA;AACA,kBAAkB,mBAAO,CAAC,uEAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACjKA;AACA,kBAAkB,mBAAO,CAAC,uEAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzKA,gBAAgB,mBAAO,CAAC,wEAAmB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACzBD;AACA,kBAAkB,mBAAO,CAAC,uEAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACxKa;;AAEb;AACA;AACA,CAAC;AACD;AACA;;AAEA,eAAe,mBAAO,CAAC,qEAAc;;AAErC;;AAEA;AACA;;AAEA,6EAA6E,YAAY;;AAEzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;A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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","/* let's try to match the API from Electron's Dialog\n(https://github.com/electron/electron/blob/master/docs/api/dialog.md) */\n\nmodule.exports = {\n  showOpenDialog: require('./open-dialog'),\n  showSaveDialog: require('./save-dialog'),\n  showMessageBox: require('./message-box'),\n  // showErrorBox: require('./error-box'),\n}\n","/* eslint-disable no-not-accumulator-reassign/no-not-accumulator-reassign */\nvar RunDelegate = require('./run-delegate')\n\n// https://github.com/electron/electron/blob/master/docs/api/dialog.md#dialogshowmessageboxbrowserwindow-options-callback\nvar typeMap = {\n  none: 0,\n  info: 1,\n  error: 2,\n  question: 1,\n  warning: 2,\n}\nmodule.exports = function messageBox(document, options, callback) {\n  if (!document ||\n    (typeof document.class !== 'function' && !document.sketchObject)\n  ) {\n    callback = options\n    options = document\n    document = undefined\n  } else if (document.sketchObject) {\n    document = document.sketchObject\n  }\n  if (!options) {\n    options = {}\n  }\n\n  var response\n\n  var dialog = NSAlert.alloc().init()\n\n  if (options.type) {\n    dialog.alertStyle = typeMap[options.type] || 0\n  }\n\n  if (options.buttons && options.buttons.length) {\n    options.buttons.forEach(function addButton(button) {\n      dialog.addButtonWithTitle(\n        options.normalizeAccessKeys ? button.replace(/&/g, '') : button\n      )\n      // TODO: add keyboard shortcut if options.normalizeAccessKeys\n    })\n  }\n\n  if (typeof options.defaultId !== 'undefined') {\n    var buttons = dialog.buttons()\n    if (options.defaultId < buttons.length) {\n      // Focus the button at defaultId if the user opted to do so.\n      // The first button added gets set as the default selected.\n      // So remove that default, and make the requested button the default.\n      buttons[0].setKeyEquivalent('')\n      buttons[options.defaultId].setKeyEquivalent('\\r')\n    }\n  }\n\n  if (options.title) {\n    // not shown on macOS\n  }\n\n  if (options.message) {\n    dialog.messageText = options.message\n  }\n\n  if (options.detail) {\n    dialog.informativeText = options.detail\n  }\n\n  if (options.checkboxLabel) {\n    dialog.showsSuppressionButton = true\n    dialog.suppressionButton().title = options.checkboxLabel\n\n    if (typeof options.checkboxChecked !== 'undefined') {\n      dialog.suppressionButton().state = options.checkboxChecked ?\n        NSOnState :\n        NSOffState\n    }\n  }\n\n  if (options.icon) {\n    if (typeof options.icon === 'string') {\n      options.icon = NSImage.alloc().initWithContentsOfFile(options.icon)\n    }\n    dialog.icon = options.icon\n  } else if (\n    typeof __command !== 'undefined' &&\n    __command.pluginBundle() &&\n    __command.pluginBundle().icon()\n  ) {\n    dialog.icon = __command.pluginBundle().icon()\n  } else {\n    var icon = NSImage.imageNamed('plugins')\n    if (icon) {\n      dialog.icon = icon\n    }\n  }\n\n  if (!document) {\n    response = Number(dialog.runModal()) - 1000\n    if (callback) {\n      var checkboxChecked = false\n      if (options.checkboxLabel) {\n        checkboxChecked = dialog.suppressionButton().state() == NSOnState\n      }\n      callback({\n        response: response,\n        checkboxChecked: checkboxChecked,\n      })\n      return undefined\n    }\n    return response\n  }\n\n  var delegate = RunDelegate.new()\n\n  dialog.buttons().forEach(function hookButton(button, i) {\n    button.setTarget(delegate)\n    button.setAction(NSSelectorFromString('buttonClicked:'))\n    button.setTag(i)\n  })\n\n  var fiber\n  if (callback) {\n    if (coscript.createFiber) {\n      fiber = coscript.createFiber()\n    } else {\n      coscript.shouldKeepAround = true\n    }\n  }\n\n  delegate.options = NSDictionary.dictionaryWithDictionary({\n    onClicked: function handleEnd(returnCode) {\n      if (callback) {\n        callback({\n          response: Number(returnCode),\n          checkboxChecked: dialog.suppressionButton().state() == NSOnState,\n        })\n        NSApp.endSheet(dialog.window())\n        if (fiber) {\n          fiber.cleanup()\n        } else {\n          coscript.shouldKeepAround = false\n        }\n      } else {\n        NSApp.stopModalWithCode(Number(returnCode))\n      }\n    },\n  })\n\n  var window = (document.sketchObject || document).documentWindow()\n  dialog.beginSheetModalForWindow_modalDelegate_didEndSelector_contextInfo(\n    window,\n    null,\n    null,\n    null\n  )\n\n  if (!callback) {\n    response = Number(NSApp.runModalForWindow(window))\n    NSApp.endSheet(dialog.window())\n    return response\n  }\n\n  return undefined\n}\n","/* eslint-disable no-not-accumulator-reassign/no-not-accumulator-reassign */\nvar RunDelegate = require('./run-delegate')\n\n// https://github.com/electron/electron/blob/master/docs/api/dialog.md#dialogshowopendialogbrowserwindow-options-callback\nmodule.exports = function openDialog(document, options, callback) {\n  if (!document || typeof document.class !== 'function') {\n    callback = options\n    options = document\n    document = undefined\n  }\n  if (!options) {\n    options = {}\n  }\n\n  var dialog = NSOpenPanel.openPanel()\n\n  if (options.title) {\n    dialog.title = options.title\n  }\n\n  if (options.defaultPath) {\n    dialog.directoryURL = NSURL.URLWithString(options.defaultPath)\n  }\n\n  if (options.buttonLabel) {\n    dialog.prompt = options.buttonLabel\n  }\n\n  if (options.filters && options.filters.length) {\n    var exts = []\n    options.filters.forEach(function setFilter(filter) {\n      filter.extensions.forEach(function setExtension(ext) {\n        exts.push(ext)\n      })\n    })\n\n    dialog.allowedFileTypes = exts\n  }\n\n  if (options.properties && options.properties.length) {\n    options.properties.forEach(function setProperty(p) {\n      if (p === 'openFile') {\n        dialog.canChooseFiles = true\n      } else if (p === 'openDirectory') {\n        dialog.canChooseDirectories = true\n      } else if (p === 'multiSelections') {\n        dialog.allowsMultipleSelection = true\n      } else if (p === 'showHiddenFiles') {\n        dialog.showsHiddenFiles = true\n      } else if (p === 'createDirectory') {\n        dialog.createDirectory = true\n      } else if (p === 'noResolveAliases') {\n        dialog.resolvesAliases = false\n      } else if (p === 'treatPackageAsDirectory') {\n        dialog.treatsFilePackagesAsDirectories = true\n      }\n    })\n  }\n\n  if (options.message) {\n    dialog.message = options.message\n  }\n\n  var buttonClicked\n\n  function getURLs() {\n    var result = []\n    var urls = dialog.URLs()\n    for (var k = 0; k < urls.length; k += 1) {\n      result.push(String(urls[k].path()))\n    }\n\n    return result\n  }\n\n  if (!document) {\n    buttonClicked = dialog.runModal()\n    if (buttonClicked == NSOKButton) {\n      if (callback) {\n        callback(getURLs())\n        return undefined\n      }\n      return getURLs()\n    }\n\n    return []\n  }\n\n  var nsButtonClass = NSButton.class()\n\n  function findButtonWithTitleInView(title, view) {\n    if (!view || !view.subviews || !view.subviews()) {\n      return undefined\n    }\n    var subviews = view.subviews()\n    for (var i = 0; i < subviews.length; i += 1) {\n      var subview = subviews[i]\n      if (\n        subview.isKindOfClass(nsButtonClass) &&\n        String(subview.title()) == title\n      ) {\n        return subview\n      }\n      var foundButton = findButtonWithTitleInView(title, subview)\n      if (foundButton) {\n        return foundButton\n      }\n    }\n    return undefined\n  }\n\n  var cancelButton = findButtonWithTitleInView('Cancel', dialog.contentView())\n  var okButton = findButtonWithTitleInView(\n    options.buttonLabel || 'Open',\n    dialog.contentView()\n  )\n\n  var delegate = RunDelegate.new()\n\n  cancelButton.setTarget(delegate)\n  cancelButton.setAction(NSSelectorFromString('button1Clicked:'))\n  okButton.setTarget(delegate)\n  okButton.setAction(NSSelectorFromString('button0Clicked:'))\n\n  var fiber\n  if (callback) {\n    if (coscript.createFiber) {\n      fiber = coscript.createFiber()\n    } else {\n      coscript.shouldKeepAround = true\n    }\n  }\n\n  delegate.options = NSDictionary.dictionaryWithDictionary({\n    onClicked: function handleEnd(returnCode) {\n      if (callback) {\n        callback(returnCode == 0 ? getURLs() : undefined)\n        NSApp.endSheet(dialog)\n        if (fiber) {\n          fiber.cleanup()\n        } else {\n          coscript.shouldKeepAround = false\n        }\n      } else {\n        NSApp.stopModalWithCode(returnCode)\n      }\n    },\n  })\n\n  var window = (document.sketchObject || document).documentWindow()\n  dialog.beginSheetForDirectory_file_modalForWindow_modalDelegate_didEndSelector_contextInfo(\n    null,\n    null,\n    window,\n    null,\n    null,\n    null\n  )\n\n  if (!callback) {\n    buttonClicked = NSApp.runModalForWindow(window)\n    NSApp.endSheet(dialog)\n    if (buttonClicked == 0) {\n      return getURLs()\n    }\n    return undefined\n  }\n\n  return undefined\n}\n","var ObjCClass = require('cocoascript-class').default\n\nmodule.exports = new ObjCClass({\n  options: null,\n\n  'buttonClicked:': function handleButtonClicked(sender) {\n    if (this.options.onClicked) {\n      this.options.onClicked(sender.tag())\n    }\n    this.release()\n  },\n\n  'button0Clicked:': function handleButtonClicked() {\n    if (this.options.onClicked) {\n      this.options.onClicked(0)\n    }\n    this.release()\n  },\n\n  'button1Clicked:': function handleButtonClicked() {\n    if (this.options.onClicked) {\n      this.options.onClicked(1)\n    }\n    this.release()\n  },\n})\n","/* eslint-disable no-not-accumulator-reassign/no-not-accumulator-reassign */\nvar RunDelegate = require('./run-delegate')\n\n// https://github.com/electron/electron/blob/master/docs/api/dialog.md#dialogshowsavedialogbrowserwindow-options-callback\nmodule.exports = function saveDialog(document, options, callback) {\n  if (!document || typeof document.class !== 'function') {\n    callback = options\n    options = document\n    document = undefined\n  }\n  if (!options) {\n    options = {}\n  }\n\n  var buttonClicked\n  var url\n\n  var dialog = NSSavePanel.savePanel()\n\n  if (options.title) {\n    dialog.title = options.title\n  }\n\n  if (options.defaultPath) {\n    if (\n      options.defaultPath[0] === '.' ||\n      options.defaultPath[0] === '~' ||\n      options.defaultPath[0] === '/'\n    ) {\n      // that's a path\n      dialog.setDirectoryURL(\n        NSURL.URLWithString(\n          NSString.stringWithString(\n            options.defaultPath\n          ).stringByExpandingTildeInPath()\n        )\n      )\n      var parts = options.defaultPath.split('/')\n      if (parts.length > 1 && parts[parts.length - 1]) {\n        dialog.setNameFieldStringValue(parts[parts.length - 1])\n      }\n    } else {\n      dialog.setNameFieldStringValue(options.defaultPath)\n    }\n  }\n\n  if (options.buttonLabel) {\n    dialog.prompt = options.buttonLabel\n  }\n\n  if (options.filters && options.filters.length) {\n    var exts = []\n    options.filters.forEach(function setFilter(filter) {\n      filter.extensions.forEach(function setExtension(ext) {\n        exts.push(ext)\n      })\n    })\n\n    dialog.allowedFileTypes = exts\n  }\n\n  if (options.message) {\n    dialog.message = options.message\n  }\n\n  if (options.nameFieldLabel) {\n    dialog.nameFieldLabel = options.nameFieldLabel\n  }\n\n  if (options.showsTagField) {\n    dialog.showsTagField = options.showsTagField\n  }\n\n  if (!document) {\n    buttonClicked = dialog.runModal()\n    if (buttonClicked == NSOKButton) {\n      url = String(dialog.URL().path())\n\n      if (callback) {\n        callback(url)\n        return undefined\n      }\n      return url\n    }\n    return undefined\n  }\n\n  var nsButtonClass = NSButton.class()\n\n  function findButtonWithTitleInView(title, view) {\n    if (!view || !view.subviews || !view.subviews()) {\n      return undefined\n    }\n    var subviews = view.subviews()\n    for (var i = 0; i < subviews.length; i += 1) {\n      var subview = subviews[i]\n      if (\n        subview.isKindOfClass(nsButtonClass) &&\n        String(subview.title()) == title\n      ) {\n        return subview\n      }\n      var foundButton = findButtonWithTitleInView(title, subview)\n      if (foundButton) {\n        return foundButton\n      }\n    }\n    return undefined\n  }\n\n  var cancelButton = findButtonWithTitleInView('Cancel', dialog.contentView())\n  var okButton = findButtonWithTitleInView(\n    options.buttonLabel || 'Save',\n    dialog.contentView()\n  )\n\n  var delegate = RunDelegate.new()\n\n  cancelButton.setTarget(delegate)\n  cancelButton.setAction(NSSelectorFromString('button1Clicked:'))\n  okButton.setTarget(delegate)\n  okButton.setAction(NSSelectorFromString('button0Clicked:'))\n\n  var fiber\n  if (callback) {\n    if (coscript.createFiber) {\n      fiber = coscript.createFiber()\n    } else {\n      coscript.shouldKeepAround = true\n    }\n  }\n\n  delegate.options = NSDictionary.dictionaryWithDictionary({\n    onClicked: function handleEnd(returnCode) {\n      if (callback) {\n        callback(returnCode == 0 ? String(dialog.URL().path()) : undefined)\n        NSApp.endSheet(dialog)\n        if (fiber) {\n          fiber.cleanup()\n        } else {\n          coscript.shouldKeepAround = false\n        }\n      } else {\n        NSApp.stopModalWithCode(returnCode)\n      }\n    },\n  })\n\n  var window = (document.sketchObject || document).documentWindow()\n  dialog.beginSheetForDirectory_file_modalForWindow_modalDelegate_didEndSelector_contextInfo(\n    null,\n    null,\n    window,\n    null,\n    null,\n    null\n  )\n\n  if (!callback) {\n    buttonClicked = NSApp.runModalForWindow(window)\n    NSApp.endSheet(dialog)\n    if (buttonClicked == 0) {\n      return String(dialog.URL().path())\n    }\n    return undefined\n  }\n\n  return undefined\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SuperCall = undefined;\nexports.default = ObjCClass;\n\nvar _runtime = require(\"./runtime.js\");\n\nexports.SuperCall = _runtime.SuperCall;\n\n// super when returnType is id and args are void\n// id objc_msgSendSuper(struct objc_super *super, SEL op, void)\n\nconst SuperInit = (0, _runtime.SuperCall)(NSStringFromSelector(\"init\"), [], { type: \"@\" });\n\n// Returns a real ObjC class. No need to use new.\nfunction ObjCClass(defn) {\n  const superclass = defn.superclass || NSObject;\n  const className = (defn.className || defn.classname || \"ObjCClass\") + NSUUID.UUID().UUIDString();\n  const reserved = new Set(['className', 'classname', 'superclass']);\n  var cls = MOClassDescription.allocateDescriptionForClassWithName_superclass_(className, superclass);\n  // Add each handler to the class description\n  const ivars = [];\n  for (var key in defn) {\n    const v = defn[key];\n    if (typeof v == 'function' && key !== 'init') {\n      var selector = NSSelectorFromString(key);\n      cls.addInstanceMethodWithSelector_function_(selector, v);\n    } else if (!reserved.has(key)) {\n      ivars.push(key);\n      cls.addInstanceVariableWithName_typeEncoding(key, \"@\");\n    }\n  }\n\n  cls.addInstanceMethodWithSelector_function_(NSSelectorFromString('init'), function () {\n    const self = SuperInit.call(this);\n    ivars.map(name => {\n      Object.defineProperty(self, name, {\n        get() {\n          return getIvar(self, name);\n        },\n        set(v) {\n          (0, _runtime.object_setInstanceVariable)(self, name, v);\n        }\n      });\n      self[name] = defn[name];\n    });\n    // If there is a passsed-in init funciton, call it now.\n    if (typeof defn.init == 'function') defn.init.call(this);\n    return self;\n  });\n\n  return cls.registerClass();\n};\n\nfunction getIvar(obj, name) {\n  const retPtr = MOPointer.new();\n  (0, _runtime.object_getInstanceVariable)(obj, name, retPtr);\n  return retPtr.value().retain().autorelease();\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SuperCall = SuperCall;\nexports.CFunc = CFunc;\nconst objc_super_typeEncoding = '{objc_super=\"receiver\"@\"super_class\"#}';\n\n// You can store this to call your function. this must be bound to the current instance.\nfunction SuperCall(selector, argTypes, returnType) {\n  const func = CFunc(\"objc_msgSendSuper\", [{ type: '^' + objc_super_typeEncoding }, { type: \":\" }, ...argTypes], returnType);\n  return function (...args) {\n    const struct = make_objc_super(this, this.superclass());\n    const structPtr = MOPointer.alloc().initWithValue_(struct);\n    return func(structPtr, selector, ...args);\n  };\n}\n\n// Recursively create a MOStruct\nfunction makeStruct(def) {\n  if (typeof def !== 'object' || Object.keys(def).length == 0) {\n    return def;\n  }\n  const name = Object.keys(def)[0];\n  const values = def[name];\n\n  const structure = MOStruct.structureWithName_memberNames_runtime(name, Object.keys(values), Mocha.sharedRuntime());\n\n  Object.keys(values).map(member => {\n    structure[member] = makeStruct(values[member]);\n  });\n\n  return structure;\n}\n\nfunction make_objc_super(self, cls) {\n  return makeStruct({\n    objc_super: {\n      receiver: self,\n      super_class: cls\n    }\n  });\n}\n\n// Due to particularities of the JS bridge, we can't call into MOBridgeSupport objects directly\n// But, we can ask key value coding to do the dirty work for us ;)\nfunction setKeys(o, d) {\n  const funcDict = NSMutableDictionary.dictionary();\n  funcDict.o = o;\n  Object.keys(d).map(k => funcDict.setValue_forKeyPath(d[k], \"o.\" + k));\n}\n\n// Use any C function, not just ones with BridgeSupport\nfunction CFunc(name, args, retVal) {\n  function makeArgument(a) {\n    if (!a) return null;\n    const arg = MOBridgeSupportArgument.alloc().init();\n    setKeys(arg, {\n      type64: a.type\n    });\n    return arg;\n  }\n  const func = MOBridgeSupportFunction.alloc().init();\n  setKeys(func, {\n    name: name,\n    arguments: args.map(makeArgument),\n    returnValue: makeArgument(retVal)\n  });\n  return func;\n}\n\n/*\n@encode(char*) = \"*\"\n@encode(id) = \"@\"\n@encode(Class) = \"#\"\n@encode(void*) = \"^v\"\n@encode(CGRect) = \"{CGRect={CGPoint=dd}{CGSize=dd}}\"\n@encode(SEL) = \":\"\n*/\n\nfunction addStructToBridgeSupport(key, structDef) {\n  // OK, so this is probably the nastiest hack in this file.\n  // We go modify MOBridgeSupportController behind its back and use kvc to add our own definition\n  // There isn't another API for this though. So the only other way would be to make a real bridgesupport file.\n  const symbols = MOBridgeSupportController.sharedController().valueForKey('symbols');\n  if (!symbols) throw Error(\"Something has changed within bridge support so we can't add our definitions\");\n  // If someone already added this definition, don't re-register it.\n  if (symbols[key] !== null) return;\n  const def = MOBridgeSupportStruct.alloc().init();\n  setKeys(def, {\n    name: key,\n    type: structDef.type\n  });\n  symbols[key] = def;\n};\n\n// This assumes the ivar is an object type. Return value is pretty useless.\nconst object_getInstanceVariable = exports.object_getInstanceVariable = CFunc(\"object_getInstanceVariable\", [{ type: \"@\" }, { type: '*' }, { type: \"^@\" }], { type: \"^{objc_ivar=}\" });\n// Again, ivar is of object type\nconst object_setInstanceVariable = exports.object_setInstanceVariable = CFunc(\"object_setInstanceVariable\", [{ type: \"@\" }, { type: '*' }, { type: \"@\" }], { type: \"^{objc_ivar=}\" });\n\n// We need Mocha to understand what an objc_super is so we can use it as a function argument\naddStructToBridgeSupport('objc_super', { type: objc_super_typeEncoding });","import sketch from 'sketch'\nimport dialog from '@skpm/dialog'\nimport QRCode from './lib/qrcode'\n// documentation: https://developer.sketchapp.com/reference/api/\n\nexport default function main(context) {\n  const str = sketch.UI.getStringFromUser(\"Please input QR code value\", '^_^')\n  const qrcode = new QRCode(str)\n  const options = qrcode.options\n  const modules = qrcode.qrcode.modules\n  const width = options.width\n  const height = options.height\n  const length = modules.length\n  const xsize = width / (length + 2 * options.padding)\n  const ysize = height / (length + 2 * options.padding)\n\n  let layers = []\n  for (let y = 0; y < length; y++) {\n    for (let x = 0; x < length; x++) {\n      let module = modules[x][y]\n      if (module) {\n        let px = (x * xsize + options.padding * xsize).toString()\n        let py = (y * ysize + options.padding * ysize).toString()\n        layers.push({\n          type: sketch.Types.Shape,\n          frame: {\n            x: px,\n            y: py,\n            width: xsize,\n            height: ysize,\n          },\n          style: {\n            fills: [\n              {\n                color: options.color,\n                fill: sketch.Style.FillType.Color\n              }\n            ],\n            borders: []\n          }\n        })\n      }\n    }\n  }\n\n  const document = sketch.fromNative(context.document)\n  const page = document.selectedPage\n\n  const group = new sketch.Group({\n    name: `qr-${str}`,\n    parent: page,\n    frame: {\n      x: 0,\n      y: 0,\n      width: options.width,\n      height: options.height\n    },\n    layers\n  })\n\n  document.centerOnLayer(group)\n}\n  \nexport function about(){\n  dialog.showMessageBox({\n    message: 'About Sketch QRCode',\n    detail: `This Plugin uses QRCode.js library [https://github.com/davidshimjs/qrcodejs] \\n\\nIt's for generate svg QR Code in Sketch app.`,\n    buttons: ['Feedback', 'Edit Settings', 'Reset Settings', 'Cancel']\n  }, ({response})=>{\n    switch (response) {\n      case 0: // Feedback\n        const url = 'https://github.com/lerte/sketch-qr-code/issues/new'\n        const nsurl = NSURL.URLWithString(url)\n        NSWorkspace.sharedWorkspace().openURL(nsurl)\n        return\n      case 1: // Edit Settings\n        return\n      case 2: // Reset Settings\n        return\n      case 3: // Cancel\n        return\n\t\t\tdefault:\n\t\t\tthrow new Error(\"Unknwon response: \" + response)\n    }\n  })\n}\n","/**\n * @fileoverview\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n * \n * @author davidshimjs\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of \n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n\tthis.mode = QRMode.MODE_8BIT_BYTE;\n\tthis.data = data;\n\tthis.parsedData = [];\n\n\t// Added to support UTF-8 Characters\n\tfor (var i = 0, l = this.data.length; i < l; i++) {\n\t\tvar byteArray = [];\n\t\tvar code = this.data.charCodeAt(i);\n\n\t\tif (code > 0x10000) {\n\t\t\tbyteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n\t\t\tbyteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n\t\t\tbyteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n\t\t\tbyteArray[3] = 0x80 | (code & 0x3F);\n\t\t} else if (code > 0x800) {\n\t\t\tbyteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n\t\t\tbyteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n\t\t\tbyteArray[2] = 0x80 | (code & 0x3F);\n\t\t} else if (code > 0x80) {\n\t\t\tbyteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n\t\t\tbyteArray[1] = 0x80 | (code & 0x3F);\n\t\t} else {\n\t\t\tbyteArray[0] = code;\n\t\t}\n\n\t\tthis.parsedData.push(byteArray);\n\t}\n\n\tthis.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n\tif (this.parsedData.length != this.data.length) {\n\t\tthis.parsedData.unshift(191);\n\t\tthis.parsedData.unshift(187);\n\t\tthis.parsedData.unshift(239);\n\t}\n}\n\nQR8bitByte.prototype = {\n\tgetLength: function (buffer) {\n\t\treturn this.parsedData.length;\n\t},\n\twrite: function (buffer) {\n\t\tfor (var i = 0, l = this.parsedData.length; i < l; i++) {\n\t\t\tbuffer.put(this.parsedData[i], 8);\n\t\t}\n\t}\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n\tthis.typeNumber = typeNumber;\n\tthis.errorCorrectLevel = errorCorrectLevel;\n\tthis.modules = null;\n\tthis.moduleCount = 0;\n\tthis.dataCache = null;\n\tthis.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\t\n// Constructor \nexport default function QRCode(options) {\n\t//Default options\n\tthis.options = {\n\t\tpadding: 4,\n\t\twidth: 256, \n\t\theight: 256,\n\t\ttypeNumber: 4,\n\t\tcolor: \"#000000\",\n\t\tbackground: \"#ffffff\",\n\t\tecl: \"M\"\n\t};\n\t//In case the options is string\n\tif (typeof options === 'string') {\n\t\toptions = {\n\t\t\tcontent: options\n\t\t};\n\t}\n\t//Merge options\n\tif (options) {\n\t\t// Object.assign(this.options, options);\n\t\tfor (var i in options) {\n\t\t\tthis.options[i] = options[i];\n\t\t}\n\t}\n\t//Gets the error correction level\n\tfunction _getErrorCorrectLevel(ecl) {\n\t\tswitch (ecl) {\n\t\t\tcase \"L\":\n\t\t\treturn QRErrorCorrectLevel.L;\n\t\t\t\n\t\t\tcase \"M\":\n\t\t\treturn QRErrorCorrectLevel.M;\n\t\t\t\n\t\t\tcase \"Q\":\n\t\t\treturn QRErrorCorrectLevel.Q;\n\t\t\t\n\t\t\tcase \"H\":\n\t\t\treturn QRErrorCorrectLevel.H;\n\t\t\t\n\t\t\tdefault:\n\t\t\tthrow new Error(\"Unknwon error correction level: \" + ecl);\n\t\t}\n\t}\n\t/**\n\t * Get the type by string length\n\t * \n\t * @private\n\t * @param {String} sText\n\t * @param {Number} nCorrectLevel\n\t * @return {Number} type\n\t */\n\tfunction _getTypeNumber(sText, nCorrectLevel) {\t\t\n\t\tvar nType = 1;\n\t\tvar length = _getUTF8Length(sText);\n\t\t\n\t\tfor (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n\t\t\tvar nLimit = 0;\n\t\t\t\n\t\t\tswitch (nCorrectLevel) {\n\t\t\t\tcase QRErrorCorrectLevel.L :\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][0];\n\t\t\t\t\tbreak;\n\t\t\t\tcase QRErrorCorrectLevel.M :\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase QRErrorCorrectLevel.Q :\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][2];\n\t\t\t\t\tbreak;\n\t\t\t\tcase QRErrorCorrectLevel.H :\n\t\t\t\t\tnLimit = QRCodeLimitLength[i][3];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tif (length <= nLimit) {\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tnType++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (nType > QRCodeLimitLength.length) {\n\t\t\tthrow new Error(\"Too long data\");\n\t\t}\n\t\t\n\t\treturn nType;\n\t}\n\tfunction _getUTF8Length(sText) {\n\t\tvar replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n\t\treturn replacedText.length + (replacedText.length != sText ? 3 : 0);\n\t}\n\t//Generate QR Code matrix\n\tvar content = this.options.content;\n\tvar ecl = _getErrorCorrectLevel(this.options.ecl);\n\tvar type = _getTypeNumber(content, ecl);\n\tthis.qrcode = new QRCodeModel(type, ecl);\n\tthis.qrcode.addData(content);\n\tthis.qrcode.make();\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}